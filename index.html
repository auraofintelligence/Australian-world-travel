<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Visa Evaluator for an Australian Citizen</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Leaflet CSS for the map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        .table-sortable th {
            cursor: pointer;
            position: relative;
        }
        .table-sortable th .sort-arrow {
            opacity: 0.3;
        }
        .table-sortable th:hover {
            background-color: #f0f4f8;
        }
        .table-sortable th .sort-arrow.active {
            opacity: 1;
        }
        /* Smartraveller Level Colors */
        .level-1 { background-color: #e0f2fe; color: #0c4a6e; } /* Exercise normal safety precautions */
        .level-2 { background-color: #fef9c3; color: #854d0e; } /* Exercise a high degree of caution */
        .level-3 { background-color: #fee2e2; color: #991b1b; } /* Reconsider your need to travel */
        .level-4 { background-color: #d1d5db; color: #1f2937; } /* Do not travel */
        
        #tripPlanner, #embassySection {
            display: none; /* Hidden by default */
        }
        #map { 
            height: 400px; 
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            margin-bottom: 2rem;
        }
        .floating-btn {
            position: fixed;
            background-color: #2563eb;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            display: none; /* Hidden by default */
            z-index: 1000;
            text-align: center;
            line-height: 50px;
        }
        #returnToTop {
            bottom: 20px;
            right: 20px;
        }
        #goToPlanner {
            bottom: 20px;
            left: 20px;
            background-color: #16a34a; /* Green color */
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900">Global Business Visa Guide</h1>
            <p class="mt-2 text-lg text-gray-600">For a 42-year-old Male Australian Citizen</p>
            <p class="text-sm text-gray-500 mt-1">Distances are approximate from Brisbane, QLD</p>
        </header>

        <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 rounded-md mb-8" role="alert">
            <p class="font-bold">Important Disclaimer</p>
            <p>Visa requirements, costs, and travel advisories change frequently. This information is for preliminary guidance only. <strong class="font-semibold">ALWAYS</strong> confirm details with the official embassy or consulate of your destination country before making any travel arrangements. Data last updated: August 16, 2025.</p>
        </div>

        <!-- Interactive Map -->
        <div id="map"></div>

        <div class="flex flex-col sm:flex-row justify-between items-center mb-4">
            <div class="w-full sm:w-1/2 mb-4 sm:mb-0">
                <input type="text" id="searchInput" onkeyup="filterTable()" placeholder="Type to search by country or airport code..." class="w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
            <div class="flex gap-2">
                <button onclick="selectAll()" class="bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition duration-300">Select All</button>
                <button onclick="clearSelection()" class="bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300 transition duration-300">Clear Selection</button>
            </div>
        </div>

        <div class="overflow-x-auto bg-white rounded-lg shadow">
            <table id="countryTable" class="w-full text-left table-sortable">
                <thead class="bg-gray-100">
                    <tr>
                        <th class="p-4 font-semibold text-gray-600"></th>
                        <th class="p-4 font-semibold text-gray-600" onclick="sortTable(1)">Country <span class="sort-arrow"></span></th>
                        <th class="p-4 font-semibold text-gray-600" onclick="sortTable(2)">Airport Code <span class="sort-arrow"></span></th>
                        <th class="p-4 font-semibold text-gray-600" onclick="sortTable(3)">Business Visa Requirements Summary <span class="sort-arrow"></span></th>
                        <th class="p-4 font-semibold text-gray-600" onclick="sortTable(4)">Est. Cost (AUD) <span class="sort-arrow"></span></th>
                        <th class="p-4 font-semibold text-gray-600" onclick="sortTable(5)">Simplicity <span class="sort-arrow"></span></th>
                        <th class="p-4 font-semibold text-gray-600" onclick="sortTable(6)">Smartraveller Level <span class="sort-arrow"></span></th>
                        <th class="p-4 font-semibold text-gray-600" onclick="sortTable(7)">Distance (km) <span class="sort-arrow"></span></th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        
        <div id="tripPlanner" class="mt-8 p-6 bg-white rounded-lg shadow">
            <h2 class="text-2xl font-bold mb-4">Trip Planner</h2>
            <div id="selectedCountriesList" class="mb-4">
                <h3 class="font-semibold text-lg">Selected Countries:</h3>
                <ul class="list-disc list-inside mt-2 text-gray-700"></ul>
            </div>
            <div class="border-t pt-4">
                <p class="text-xl font-semibold">Total Estimated Visa Cost: <span id="totalCost" class="text-blue-600">$0</span></p>
            </div>
            <div class="mt-4">
                 <button onclick="exportList()" class="bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300">Export for Travel Search</button>
                 <span id="copyMessage" class="ml-4 text-green-600 font-medium hidden">List copied to clipboard!</span>
            </div>
        </div>

        <!-- Embassy Section -->
        <div id="embassySection" class="mt-8">
            <h2 class="text-2xl font-bold mb-4 text-center">Diplomatic Missions in Australia</h2>
            <div class="overflow-x-auto bg-white rounded-lg shadow">
                <table id="embassyTable" class="w-full text-left table-sortable">
                    <thead class="bg-gray-100">
                        <tr>
                            <th class="p-4 font-semibold text-gray-600" onclick="sortEmbassyTable(0)">Country <span class="sort-arrow"></span></th>
                            <th class="p-4 font-semibold text-gray-600" onclick="sortEmbassyTable(1)">City (Australia) <span class="sort-arrow"></span></th>
                            <th class="p-4 font-semibold text-gray-600">Type</th>
                            <th class="p-4 font-semibold text-gray-600">Address</th>
                            <th class="p-4 font-semibold text-gray-600">Website</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <footer class="text-center mt-8 text-sm text-gray-500">
            <p>This page is a dynamically generated guide and not a legal document.</p>
        </footer>

    </div>

    <button id="returnToTop" class="floating-btn" onclick="scrollToTop()">↑</button>
    <button id="goToPlanner" class="floating-btn" onclick="scrollToPlanner()">↓</button>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script>
        const countryData = [
            // Data from previous turn...
            { name: 'Afghanistan', airport: 'KBL', lat: 33.93911, lng: 67.709953, requirements: 'Visa required. Extremely difficult to obtain. Not advised.', cost: 'Variable', simplicity: 'Very Hard', warning: 'Do not travel', level: 4, distance: 10950 },
            { name: 'Albania', airport: 'TIA', lat: 41.153332, lng: 20.168331, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 15500 },
            { name: 'Algeria', airport: 'ALG', lat: 28.033886, lng: 1.659626, requirements: 'Visa required in advance. Requires invitation letter.', cost: '~ $125', simplicity: 'Hard', warning: 'Reconsider your need to travel', level: 3, distance: 16900 },
            { name: 'Andorra', airport: 'None', lat: 42.506285, lng: 1.521801, requirements: 'Visa-free (entry via France or Spain - Schengen rules apply).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 17000 },
            { name: 'Angola', airport: 'LAD', lat: -11.202692, lng: 17.873887, requirements: 'Visa-free for business visits up to 30 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 14000 },
            { name: 'Antigua and Barbuda', airport: 'ANU', lat: 17.060816, lng: -61.796428, requirements: 'Visa-free for business visits up to 1 month.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16500 },
            { name: 'Argentina', airport: 'EZE', lat: -38.416097, lng: -63.616672, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 12850 },
            { name: 'Armenia', airport: 'EVN', lat: 40.069099, lng: 45.038189, requirements: 'Visa-free for business visits up to 180 days per year.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 13500 },
            { name: 'Austria', airport: 'VIE', lat: 47.516231, lng: 14.550072, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16000 },
            { name: 'Azerbaijan', airport: 'GYD', lat: 40.143105, lng: 47.576927, requirements: 'e-Visa required in advance. Apply online.', cost: '~ $40', simplicity: 'Easy', warning: 'Reconsider your need to travel', level: 3, distance: 12900 },
            { name: 'Bahamas', airport: 'NAS', lat: 25.03428, lng: -77.39628, requirements: 'Visa-free for business visits up to 3 months.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 15800 },
            { name: 'Bahrain', airport: 'BAH', lat: 25.930414, lng: 50.637772, requirements: 'e-Visa or visa on arrival available.', cost: '~ $45', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 12400 },
            { name: 'Bangladesh', airport: 'DAC', lat: 23.685, lng: 90.3563, requirements: 'Visa on arrival available for business travelers.', cost: '~ $75', simplicity: 'Medium', warning: 'Exercise a high degree of caution', level: 2, distance: 8900 },
            { name: 'Barbados', airport: 'BGI', lat: 13.193887, lng: -59.543198, requirements: 'Visa-free for business visits up to 6 months.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 17000 },
            { name: 'Belarus', airport: 'MSQ', lat: 53.709807, lng: 27.953389, requirements: 'Visa-free for 30 days via Minsk airport. Restrictions apply.', cost: 'Free (conditions apply)', simplicity: 'Medium', warning: 'Do not travel', level: 4, distance: 14800 },
            { name: 'Belgium', airport: 'BRU', lat: 50.503887, lng: 4.469936, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16450 },
            { name: 'Belize', airport: 'BZE', lat: 17.189877, lng: -88.49765, requirements: 'Visa-free for business visits up to 30 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 15000 },
            { name: 'Benin', airport: 'COO', lat: 9.30769, lng: 2.315834, requirements: 'e-Visa required in advance.', cost: '~ $110', simplicity: 'Medium', warning: 'Reconsider your need to travel', level: 3, distance: 16900 },
            { name: 'Bhutan', airport: 'PBH', lat: 27.514162, lng: 90.433601, requirements: 'Visa must be arranged through a licensed tour operator.', cost: 'High (daily fee applies)', simplicity: 'Hard', warning: 'Exercise normal safety precautions', level: 1, distance: 9200 },
            { name: 'Bolivia', airport: 'VVI', lat: -16.290154, lng: -63.588653, requirements: 'Visa required in advance. Must apply at consulate.', cost: '~ $150', simplicity: 'Hard', warning: 'Exercise a high degree of caution', level: 2, distance: 13900 },
            { name: 'Bosnia and Herzegovina', airport: 'SJJ', lat: 43.915886, lng: 17.679076, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 15600 },
            { name: 'Botswana', airport: 'GBE', lat: -22.328474, lng: 24.684866, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 11800 },
            { name: 'Brazil', airport: 'GRU', lat: -14.235004, lng: -51.92528, requirements: 'e-Visa required starting April 2025. Must apply online in advance.', cost: '~ $120', simplicity: 'Medium', warning: 'Exercise a high degree of caution', level: 2, distance: 14830 },
            { name: 'Brunei', airport: 'BWN', lat: 4.535277, lng: 114.727669, requirements: 'Visa on arrival for business visits up to 30 days.', cost: '~ $30', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 5900 },
            { name: 'Bulgaria', airport: 'SOF', lat: 42.733883, lng: 25.48583, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 15000 },
            { name: 'Burkina Faso', airport: 'OUA', lat: 12.238333, lng: -1.561593, requirements: 'Visa required in advance.', cost: '~ $150', simplicity: 'Hard', warning: 'Do not travel', level: 4, distance: 17400 },
            { name: 'Burundi', airport: 'BJM', lat: -3.373056, lng: 29.918886, requirements: 'Visa required in advance.', cost: '~ $130', simplicity: 'Hard', warning: 'Do not travel', level: 4, distance: 13200 },
            { name: 'Cabo Verde', airport: 'RAI', lat: 16.5388, lng: -23.0418, requirements: 'Visa-free for business visits up to 30 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 18800 },
            { name: 'Cambodia', airport: 'PNH', lat: 12.565679, lng: 104.990963, requirements: 'e-Visa or Visa on arrival available for business.', cost: '~ $55', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 6950 },
            { name: 'Cameroon', airport: 'NSI', lat: 7.369722, lng: 12.354722, requirements: 'Visa required in advance.', cost: '~ $200', simplicity: 'Hard', warning: 'Reconsider your need to travel', level: 3, distance: 15900 },
            { name: 'Canada', airport: 'YYZ', lat: 56.130366, lng: -106.346771, requirements: 'eTA (Electronic Travel Authorization) required for air travel.', cost: '~ $7 CAD', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 12450 },
            { name: 'Central African Republic', airport: 'BGF', lat: 6.611111, lng: 20.939444, requirements: 'Visa required in advance.', cost: '~ $220', simplicity: 'Very Hard', warning: 'Do not travel', level: 4, distance: 15200 },
            { name: 'Chad', airport: 'NDJ', lat: 15.454166, lng: 18.732207, requirements: 'Visa required in advance.', cost: '~ $250', simplicity: 'Hard', warning: 'Do not travel', level: 4, distance: 15700 },
            { name: 'Chile', airport: 'SCL', lat: -35.675147, lng: -71.542969, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 11950 },
            { name: 'China', airport: 'PEK', lat: 35.86166, lng: 104.195397, requirements: 'Business (M) visa required in advance. Requires invitation letter.', cost: '~ $110 + fee', simplicity: 'Hard', warning: 'Exercise a high degree of caution', level: 2, distance: 7850 },
            { name: 'Colombia', airport: 'BOG', lat: 4.570868, lng: -74.297333, requirements: 'Visa-free for business visits up to 90 days, extendable.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 14900 },
            { name: 'Comoros', airport: 'HAH', lat: -11.875001, lng: 43.872219, requirements: 'Visa on arrival available.', cost: '~ $75', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 11500 },
            { name: 'Congo, Dem. Rep.', airport: 'FIH', lat: -4.038333, lng: 21.758664, requirements: 'Visa required in advance.', cost: '~ $200', simplicity: 'Hard', warning: 'Reconsider your need to travel', level: 3, distance: 14300 },
            { name: 'Congo, Rep.', airport: 'BZV', lat: -0.228021, lng: 15.827659, requirements: 'Visa required in advance.', cost: '~ $150', simplicity: 'Hard', warning: 'Exercise a high degree of caution', level: 2, distance: 14700 },
            { name: 'Costa Rica', airport: 'SJO', lat: 9.748917, lng: -83.753428, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 14800 },
            { name: 'Croatia', airport: 'ZAG', lat: 45.1, lng: 15.2, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 15800 },
            { name: 'Cuba', airport: 'HAV', lat: 21.521757, lng: -77.781167, requirements: 'Tourist card (visa) required in advance.', cost: '~ $100+', simplicity: 'Medium', warning: 'Exercise a high degree of caution', level: 2, distance: 16100 },
            { name: 'Cyprus', airport: 'LCA', lat: 35.126413, lng: 33.429859, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 14200 },
            { name: 'Czech Republic', airport: 'PRG', lat: 49.817492, lng: 15.472962, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 15900 },
            { name: 'Denmark', airport: 'CPH', lat: 56.26392, lng: 9.501785, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 15950 },
            { name: 'Djibouti', airport: 'JIB', lat: 11.825138, lng: 42.590275, requirements: 'e-Visa required in advance.', cost: '~ $90', simplicity: 'Medium', warning: 'Reconsider your need to travel', level: 3, distance: 13200 },
            { name: 'Dominica', airport: 'DOM', lat: 15.414999, lng: -61.370976, requirements: 'Visa-free for business visits up to 6 months.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16800 },
            { name: 'Dominican Republic', airport: 'PUJ', lat: 18.735693, lng: -70.162651, requirements: 'Visa-free for business visits up to 30 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 16200 },
            { name: 'Ecuador', airport: 'UIO', lat: -1.831239, lng: -78.183406, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 14200 },
            { name: 'Egypt', airport: 'CAI', lat: 26.820553, lng: 30.802498, requirements: 'Visa required. Can be obtained on arrival or as an e-Visa.', cost: '~ $40', simplicity: 'Medium', warning: 'Exercise a high degree of caution', level: 2, distance: 14000 },
            { name: 'El Salvador', airport: 'SAL', lat: 13.794185, lng: -88.89653, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 14500 },
            { name: 'Equatorial Guinea', airport: 'SSG', lat: 1.650801, lng: 10.267895, requirements: 'Visa required in advance.', cost: '~ $150', simplicity: 'Hard', warning: 'Exercise a high degree of caution', level: 2, distance: 15600 },
            { name: 'Eritrea', airport: 'ASM', lat: 15.179384, lng: 39.782334, requirements: 'Visa required in advance.', cost: '~ $100', simplicity: 'Hard', warning: 'Do not travel', level: 4, distance: 13600 },
            { name: 'Estonia', airport: 'TLL', lat: 58.595272, lng: 25.013607, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 15000 },
            { name: 'Eswatini', airport: 'SHO', lat: -26.522503, lng: 31.465866, requirements: 'Visa-free for business visits up to 30 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 11500 },
            { name: 'Ethiopia', airport: 'ADD', lat: 9.145, lng: 40.489673, requirements: 'e-Visa required for business travelers. Apply online before trip.', cost: '~ $125', simplicity: 'Medium', warning: 'Reconsider your need to travel', level: 3, distance: 13300 },
            { name: 'Fiji', airport: 'NAN', lat: -17.713371, lng: 178.065032, requirements: 'Visa-free for business visits up to 14 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 2750 },
            { name: 'Finland', airport: 'HEL', lat: 61.92411, lng: 25.748151, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 14900 },
            { name: 'France', airport: 'CDG', lat: 46.227638, lng: 2.213749, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 16650 },
            { name: 'Gabon', airport: 'LBV', lat: -0.803689, lng: 11.609444, requirements: 'e-Visa or visa on arrival available.', cost: '~ $120', simplicity: 'Medium', warning: 'Exercise a high degree of caution', level: 2, distance: 15100 },
            { name: 'Gambia', airport: 'BJL', lat: 13.443182, lng: -15.310139, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 18100 },
            { name: 'Georgia', airport: 'TBS', lat: 42.315407, lng: 43.356892, requirements: 'Visa-free for business visits up to 1 year.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 13300 },
            { name: 'Germany', airport: 'FRA', lat: 51.165691, lng: 10.451526, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16120 },
            { name: 'Ghana', airport: 'ACC', lat: 7.946527, lng: -1.023194, requirements: 'Visa required in advance. Apply at embassy/consulate.', cost: '~ $100+', simplicity: 'Hard', warning: 'Exercise a high degree of caution', level: 2, distance: 16800 },
            { name: 'Greece', airport: 'ATH', lat: 39.074208, lng: 21.824312, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 15200 },
            { name: 'Grenada', airport: 'GND', lat: 12.1165, lng: -61.679, requirements: 'Visa-free for business visits up to 3 months.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16900 },
            { name: 'Guatemala', airport: 'GUA', lat: 15.783471, lng: -90.230759, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 14600 },
            { name: 'Guinea', airport: 'CKY', lat: 9.945587, lng: -9.696645, requirements: 'e-Visa required in advance.', cost: '~ $120', simplicity: 'Medium', warning: 'Reconsider your need to travel', level: 3, distance: 18000 },
            { name: 'Guinea-Bissau', airport: 'OXB', lat: 11.803749, lng: -15.180413, requirements: 'e-Visa or visa on arrival available.', cost: '~ $100', simplicity: 'Medium', warning: 'Reconsider your need to travel', level: 3, distance: 18200 },
            { name: 'Guyana', airport: 'GEO', lat: 4.860416, lng: -58.93018, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 16500 },
            { name: 'Haiti', airport: 'PAP', lat: 18.971187, lng: -72.285215, requirements: 'Visa-free for 90 days, but travel not advised.', cost: 'Free', simplicity: 'Easy', warning: 'Do not travel', level: 4, distance: 15800 },
            { name: 'Honduras', airport: 'TGU', lat: 15.199999, lng: -86.241905, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 14700 },
            { name: 'Hungary', airport: 'BUD', lat: 47.162494, lng: 19.503304, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 15700 },
            { name: 'Iceland', airport: 'KEF', lat: 64.963051, lng: -19.020835, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16000 },
            { name: 'India', airport: 'DEL', lat: 20.593684, lng: 78.96288, requirements: 'e-Business Visa required in advance. Must be obtained online.', cost: '~ $120', simplicity: 'Medium', warning: 'Exercise a high degree of caution', level: 2, distance: 9950 },
            { name: 'Indonesia', airport: 'CGK', lat: -0.789275, lng: 113.921327, requirements: 'Visa on arrival available for business meetings (30 days).', cost: '~ $50', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 4780 },
            { name: 'Iran', airport: 'IKA', lat: 32.427908, lng: 53.688046, requirements: 'Visa required in advance. Complex process.', cost: '~ $150+', simplicity: 'Hard', warning: 'Do not travel', level: 4, distance: 12300 },
            { name: 'Iraq', airport: 'BGW', lat: 33.223191, lng: 43.679291, requirements: 'Visa required in advance. Very difficult to obtain.', cost: 'Variable', simplicity: 'Very Hard', warning: 'Do not travel', level: 4, distance: 13100 },
            { name: 'Ireland', airport: 'DUB', lat: 53.41291, lng: -8.24389, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16850 },
            { name: 'Israel', airport: 'TLV', lat: 31.046051, lng: 34.851612, requirements: 'Visa-free for business visits up to 3 months.', cost: 'Free', simplicity: 'Easy', warning: 'Reconsider your need to travel', level: 3, distance: 13400 },
            { name: 'Italy', airport: 'FCO', lat: 41.87194, lng: 12.56738, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16330 },
            { name: 'Jamaica', airport: 'KIN', lat: 18.109581, lng: -77.297508, requirements: 'Visa-free for business visits up to 30 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 16000 },
            { name: 'Japan', airport: 'NRT', lat: 36.204824, lng: 138.252924, requirements: 'Visa exemption for short-term business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 7140 },
            { name: 'Jordan', airport: 'AMM', lat: 30.585164, lng: 36.238414, requirements: 'Visa on arrival available.', cost: '~ $80', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 13600 },
            { name: 'Kazakhstan', airport: 'ALA', lat: 48.019573, lng: 66.923684, requirements: 'Visa-free for business visits up to 30 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 10500 },
            { name: 'Kenya', airport: 'NBO', lat: -0.023559, lng: 37.906193, requirements: 'eTA (Electronic Travel Authorisation) required before travel.', cost: '~ $50', simplicity: 'Medium', warning: 'Exercise a high degree of caution', level: 2, distance: 12900 },
            { name: 'Kiribati', airport: 'TRW', lat: -3.370417, lng: -168.734039, requirements: 'Visa-free for business visits up to 30 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 4300 },
            { name: 'Kuwait', airport: 'KWI', lat: 29.31166, lng: 47.481766, requirements: 'e-Visa or visa on arrival available.', cost: '~ $15', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 12600 },
            { name: 'Kyrgyzstan', airport: 'FRU', lat: 41.20438, lng: 74.766098, requirements: 'Visa-free for business visits up to 60 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 10000 },
            { name: 'Laos', airport: 'VTE', lat: 19.85627, lng: 102.495496, requirements: 'e-Visa or visa on arrival available.', cost: '~ $75', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 7200 },
            { name: 'Latvia', airport: 'RIX', lat: 56.879635, lng: 24.603189, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 15200 },
            { name: 'Lebanon', airport: 'BEY', lat: 33.854721, lng: 35.862285, requirements: 'Visa on arrival for business purposes (conditions apply).', cost: 'Free', simplicity: 'Medium', warning: 'Reconsider your need to travel', level: 3, distance: 13800 },
            { name: 'Lesotho', airport: 'MSU', lat: -29.609988, lng: 28.233608, requirements: 'Visa-free for business visits up to 14 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 11400 },
            { name: 'Liberia', airport: 'ROB', lat: 6.428055, lng: -9.429499, requirements: 'Visa required in advance.', cost: '~ $150', simplicity: 'Hard', warning: 'Reconsider your need to travel', level: 3, distance: 17600 },
            { name: 'Libya', airport: 'TIP', lat: 26.3351, lng: 17.228331, requirements: 'Visa required in advance. Extremely difficult.', cost: 'Variable', simplicity: 'Very Hard', warning: 'Do not travel', level: 4, distance: 15600 },
            { name: 'Liechtenstein', airport: 'None', lat: 47.166, lng: 9.555373, requirements: 'Visa-free (entry via Switzerland - Schengen rules apply).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16300 },
            { name: 'Lithuania', airport: 'VNO', lat: 55.169438, lng: 23.881275, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 15200 },
            { name: 'Luxembourg', airport: 'LUX', lat: 49.815273, lng: 6.129583, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16500 },
            { name: 'Madagascar', airport: 'TNR', lat: -18.766947, lng: 46.869107, requirements: 'e-Visa or visa on arrival available.', cost: '~ $55', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 10800 },
            { name: 'Malawi', airport: 'LLW', lat: -13.254308, lng: 34.301525, requirements: 'e-Visa required in advance.', cost: '~ $110', simplicity: 'Medium', warning: 'Exercise a high degree of caution', level: 2, distance: 12300 },
            { name: 'Malaysia', airport: 'KUL', lat: 4.210484, lng: 101.975766, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 6380 },
            { name: 'Maldives', airport: 'MLE', lat: 3.202778, lng: 73.22068, requirements: 'Visa on arrival for 30 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 8800 },
            { name: 'Mali', airport: 'BKO', lat: 17.570692, lng: -3.996166, requirements: 'Visa required in advance.', cost: '~ $180', simplicity: 'Hard', warning: 'Do not travel', level: 4, distance: 17800 },
            { name: 'Malta', airport: 'MLA', lat: 35.937496, lng: 14.375416, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16400 },
            { name: 'Marshall Islands', airport: 'MAJ', lat: 7.131474, lng: 171.184478, requirements: 'Visa on arrival for 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 4500 },
            { name: 'Mauritania', airport: 'NKC', lat: 21.00789, lng: -10.940835, requirements: 'Visa on arrival available.', cost: '~ $85', simplicity: 'Easy', warning: 'Do not travel', level: 4, distance: 18500 },
            { name: 'Mauritius', airport: 'MRU', lat: -20.348404, lng: 57.552152, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 9900 },
            { name: 'Mexico', airport: 'MEX', lat: 23.634501, lng: -102.552784, requirements: 'Visa-free for business visits up to 180 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 13340 },
            { name: 'Micronesia', airport: 'PNI', lat: 7.425554, lng: 150.550812, requirements: 'Visa-free for business visits up to 30 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 3800 },
            { name: 'Moldova', airport: 'KIV', lat: 47.411631, lng: 28.369885, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 14900 },
            { name: 'Monaco', airport: 'None', lat: 43.738418, lng: 7.424616, requirements: 'Visa-free (entry via France - Schengen rules apply).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16700 },
            { name: 'Mongolia', airport: 'UBN', lat: 46.862496, lng: 103.846656, requirements: 'e-Visa available for business travel up to 30 days.', cost: '~ $80', simplicity: 'Medium', warning: 'Exercise normal safety precautions', level: 1, distance: 8800 },
            { name: 'Montenegro', airport: 'TGD', lat: 42.708678, lng: 19.37439, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 15600 },
            { name: 'Morocco', airport: 'CMN', lat: 31.791702, lng: -7.09262, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 17900 },
            { name: 'Mozambique', airport: 'MPM', lat: -18.665695, lng: 35.529562, requirements: 'e-Visa or visa on arrival available.', cost: '~ $100', simplicity: 'Medium', warning: 'Exercise a high degree of caution', level: 2, distance: 11600 },
            { name: 'Myanmar', airport: 'RGN', lat: 21.913965, lng: 95.956223, requirements: 'Business visa required in advance. Process can be difficult.', cost: '~ $100', simplicity: 'Hard', warning: 'Do not travel', level: 4, distance: 7900 },
            { name: 'Namibia', airport: 'WDH', lat: -22.95764, lng: 18.49041, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 12400 },
            { name: 'Nauru', airport: 'INU', lat: -0.522778, lng: 166.931503, requirements: 'Visa required in advance.', cost: '~ $100', simplicity: 'Medium', warning: 'Exercise a high degree of caution', level: 2, distance: 3900 },
            { name: 'Nepal', airport: 'KTM', lat: 28.394857, lng: 84.124008, requirements: 'Visa on arrival available for business purposes.', cost: '~ $75 (30 days)', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 9400 },
            { name: 'Netherlands', airport: 'AMS', lat: 52.132633, lng: 5.291266, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16300 },
            { name: 'New Zealand', airport: 'AKL', lat: -40.900557, lng: 174.885971, requirements: 'NZeTA required for short business trips. Allows stays up to 3 months.', cost: '~ $25 (NZeTA)', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 2290 },
            { name: 'Nicaragua', airport: 'MGA', lat: 12.865416, lng: -85.207229, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Reconsider your need to travel', level: 3, distance: 14800 },
            { name: 'Niger', airport: 'NIM', lat: 17.607789, lng: 8.081666, requirements: 'Visa required in advance.', cost: '~ $200', simplicity: 'Hard', warning: 'Do not travel', level: 4, distance: 16500 },
            { name: 'Nigeria', airport: 'LOS', lat: 9.081999, lng: 8.675277, requirements: 'Visa required in advance. Business visa requires invitation.', cost: '~ $250+', simplicity: 'Hard', warning: 'Reconsider your need to travel', level: 3, distance: 15900 },
            { name: 'North Korea', airport: 'FNJ', lat: 40.339852, lng: 127.510093, requirements: 'Visa required. Extremely difficult. Only via approved tours.', cost: 'Variable', simplicity: 'Very Hard', warning: 'Do not travel', level: 4, distance: 8000 },
            { name: 'North Macedonia', airport: 'SKP', lat: 41.608635, lng: 21.745275, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 15400 },
            { name: 'Norway', airport: 'OSL', lat: 60.472024, lng: 8.468946, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 15500 },
            { name: 'Oman', airport: 'MCT', lat: 21.512583, lng: 55.923255, requirements: 'e-Visa required in advance for business travel.', cost: '~ $80', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 11800 },
            { name: 'Pakistan', airport: 'ISB', lat: 30.375321, lng: 69.345116, requirements: 'Visa required in advance. Online visa portal available.', cost: '~ $90+', simplicity: 'Hard', warning: 'Reconsider your need to travel', level: 3, distance: 10900 },
            { name: 'Palau', airport: 'ROR', lat: 7.51498, lng: 134.58252, requirements: 'Visa on arrival for 30 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 4100 },
            { name: 'Panama', airport: 'PTY', lat: 8.537981, lng: -80.782127, requirements: 'Visa-free for business visits up to 180 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 15300 },
            { name: 'Papua New Guinea', airport: 'POM', lat: -6.314993, lng: 143.95555, requirements: 'Visa required in advance. e-Visa available.', cost: '~ $70 (e-Visa)', simplicity: 'Medium', warning: 'Exercise a high degree of caution', level: 2, distance: 2130 },
            { name: 'Paraguay', airport: 'ASU', lat: -23.442503, lng: -58.443832, requirements: 'Visa on arrival available.', cost: '~ $230', simplicity: 'Medium', warning: 'Exercise a high degree of caution', level: 2, distance: 14000 },
            { name: 'Peru', airport: 'LIM', lat: -9.189967, lng: -75.015152, requirements: 'Visa-free for business visits up to 180 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 13400 },
            { name: 'Philippines', airport: 'MNL', lat: 12.879721, lng: 121.774017, requirements: 'Visa-free for business visits up to 30 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 5820 },
            { name: 'Poland', airport: 'WAW', lat: 51.919438, lng: 19.145136, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 15400 },
            { name: 'Portugal', airport: 'LIS', lat: 39.399872, lng: -8.224454, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 17900 },
            { name: 'Qatar', airport: 'DOH', lat: 25.354826, lng: 51.183884, requirements: 'Visa-free entry for 30 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 12300 },
            { name: 'Romania', airport: 'OTP', lat: 45.943161, lng: 24.96676, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 15200 },
            { name: 'Russia', airport: 'SVO', lat: 61.52401, lng: 105.318756, requirements: 'Business visa required in advance. Complex process with invitation letter.', cost: '~ $200+', simplicity: 'Hard', warning: 'Do not travel', level: 4, distance: 11450 },
            { name: 'Rwanda', airport: 'KGL', lat: -1.940278, lng: 29.873888, requirements: 'Visa on arrival available.', cost: '~ $75', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 13400 },
            { name: 'Saint Kitts and Nevis', airport: 'SKB', lat: 17.357822, lng: -62.782998, requirements: 'Visa-free for business visits up to 3 months.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16600 },
            { name: 'Saint Lucia', airport: 'UVF', lat: 13.909444, lng: -60.978893, requirements: 'Visa-free for business visits up to 6 weeks.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16900 },
            { name: 'Saint Vincent and the Grenadines', airport: 'SVD', lat: 12.984305, lng: -61.287228, requirements: 'Visa-free for business visits up to 1 month.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 17000 },
            { name: 'Samoa', airport: 'APW', lat: -13.759029, lng: -172.104629, requirements: 'Visa on arrival for business visits up to 60 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 3750 },
            { name: 'San Marino', airport: 'None', lat: 43.94236, lng: 12.457777, requirements: 'Visa-free (entry via Italy - Schengen rules apply).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16400 },
            { name: 'Sao Tome and Principe', airport: 'TMS', lat: 0.18636, lng: 6.613081, requirements: 'Visa-free for business visits up to 15 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 15800 },
            { name: 'Saudi Arabia', airport: 'RUH', lat: 23.885942, lng: 45.079162, requirements: 'Business visa required in advance. Requires sponsorship.', cost: '~ $250+', simplicity: 'Hard', warning: 'Exercise a high degree of caution', level: 2, distance: 12800 },
            { name: 'Senegal', airport: 'DSS', lat: 14.497401, lng: -14.452362, requirements: 'Visa required in advance for business purposes.', cost: '~ $120', simplicity: 'Hard', warning: 'Exercise a high degree of caution', level: 2, distance: 18200 },
            { name: 'Serbia', airport: 'BEG', lat: 44.016521, lng: 21.005859, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 15500 },
            { name: 'Seychelles', airport: 'SEZ', lat: -4.679574, lng: 55.491977, requirements: 'Visa-free for business visits up to 3 months.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 10600 },
            { name: 'Sierra Leone', airport: 'FNA', lat: 8.460555, lng: -11.779889, requirements: 'Visa on arrival available.', cost: '~ $120', simplicity: 'Easy', warning: 'Reconsider your need to travel', level: 3, distance: 17800 },
            { name: 'Singapore', airport: 'SIN', lat: 1.352083, lng: 103.819836, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 6140 },
            { name: 'Slovakia', airport: 'BTS', lat: 48.669026, lng: 19.699024, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 15800 },
            { name: 'Slovenia', airport: 'LJU', lat: 46.151241, lng: 14.995463, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 15900 },
            { name: 'Solomon Islands', airport: 'HIR', lat: -9.64571, lng: 160.156194, requirements: 'Visa on arrival for 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 2200 },
            { name: 'Somalia', airport: 'MGQ', lat: 5.152149, lng: 46.199616, requirements: 'Visa required in advance. Extremely difficult.', cost: 'Variable', simplicity: 'Very Hard', warning: 'Do not travel', level: 4, distance: 12900 },
            { name: 'South Africa', airport: 'JNB', lat: -30.559482, lng: 22.937506, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 11250 },
            { name: 'South Korea', airport: 'ICN', lat: 35.907757, lng: 127.766922, requirements: 'K-ETA required for visa-free business visits up to 90 days.', cost: '~ $12', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 7700 },
            { name: 'South Sudan', airport: 'JUB', lat: 6.876965, lng: 31.306979, requirements: 'Visa required in advance.', cost: '~ $150+', simplicity: 'Hard', warning: 'Do not travel', level: 4, distance: 14200 },
            { name: 'Spain', airport: 'MAD', lat: 40.463667, lng: -3.74922, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 17450 },
            { name: 'Sri Lanka', airport: 'CMB', lat: 7.873054, lng: 80.771797, requirements: 'ETA required for short business visits. Apply online.', cost: '~ $75', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 8300 },
            { name: 'Sudan', airport: 'KRT', lat: 12.862807, lng: 30.217636, requirements: 'Visa required in advance.', cost: '~ $200', simplicity: 'Hard', warning: 'Do not travel', level: 4, distance: 14200 },
            { name: 'Suriname', airport: 'PBM', lat: 3.919305, lng: -56.027783, requirements: 'e-Visa or e-Tourist card required.', cost: '~ $80', simplicity: 'Medium', warning: 'Exercise a high degree of caution', level: 2, distance: 16800 },
            { name: 'Sweden', airport: 'ARN', lat: 60.128161, lng: 18.643501, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 15600 },
            { name: 'Switzerland', airport: 'ZRH', lat: 46.818188, lng: 8.227512, requirements: 'Visa-free for business travel up to 90 days within 180 days (Schengen Area).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16400 },
            { name: 'Syria', airport: 'DAM', lat: 34.802075, lng: 38.996815, requirements: 'Visa required in advance. Consular services suspended.', cost: 'N/A', simplicity: 'Very Hard', warning: 'Do not travel', level: 4, distance: 13700 },
            { name: 'Taiwan', airport: 'TPE', lat: 23.69781, lng: 120.960515, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 6800 },
            { name: 'Tajikistan', airport: 'DYU', lat: 38.861034, lng: 71.276093, requirements: 'e-Visa required in advance.', cost: '~ $75', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 10400 },
            { name: 'Tanzania', airport: 'DAR', lat: -6.369028, lng: 34.888822, requirements: 'e-Visa or visa on arrival for business.', cost: '~ $150', simplicity: 'Medium', warning: 'Exercise a high degree of caution', level: 2, distance: 12700 },
            { name: 'Thailand', airport: 'BKK', lat: 15.870032, lng: 100.992541, requirements: 'Visa exemption for business visits up to 30 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 7280 },
            { name: 'Timor-Leste', airport: 'DIL', lat: -8.874217, lng: 125.727539, requirements: 'Visa on arrival available.', cost: '~ $45', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 3400 },
            { name: 'Togo', airport: 'LFW', lat: 8.619543, lng: 0.824782, requirements: 'Visa on arrival available.', cost: '~ $35', simplicity: 'Easy', warning: 'Reconsider your need to travel', level: 3, distance: 16700 },
            { name: 'Tonga', airport: 'TBU', lat: -21.178986, lng: -175.198242, requirements: 'Visa on arrival for 31 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 3250 },
            { name: 'Trinidad and Tobago', airport: 'POS', lat: 10.691803, lng: -61.222503, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 17000 },
            { name: 'Tunisia', airport: 'TUN', lat: 33.886917, lng: 9.537499, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 16600 },
            { name: 'Turkey', airport: 'IST', lat: 38.963745, lng: 35.243322, requirements: 'e-Visa required for business visits up to 90 days.', cost: '~ $90', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 14750 },
            { name: 'Turkmenistan', airport: 'ASB', lat: 38.969719, lng: 59.556278, requirements: 'Visa required in advance. Invitation letter needed.', cost: '~ $120', simplicity: 'Very Hard', warning: 'Reconsider your need to travel', level: 3, distance: 11500 },
            { name: 'Tuvalu', airport: 'FUN', lat: -7.109535, lng: 177.64933, requirements: 'Visa on arrival for 1 month.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 3500 },
            { name: 'Uganda', airport: 'EBB', lat: 1.373333, lng: 32.290275, requirements: 'e-Visa required in advance.', cost: '~ $75', simplicity: 'Medium', warning: 'Exercise a high degree of caution', level: 2, distance: 13400 },
            { name: 'Ukraine', airport: 'KBP', lat: 48.379433, lng: 31.16558, requirements: 'Visa required in advance. e-Visa system suspended.', cost: 'Variable', simplicity: 'Very Hard', warning: 'Do not travel', level: 4, distance: 14700 },
            { name: 'United Arab Emirates', airport: 'DXB', lat: 23.424076, lng: 53.847818, requirements: 'Visa on arrival for 30 days for business purposes.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 11980 },
            { name: 'United Kingdom', airport: 'LHR', lat: 55.378051, lng: -3.435973, requirements: 'Visa-free for business visitor activities up to 6 months.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 16530 },
            { name: 'United States', airport: 'LAX', lat: 37.09024, lng: -95.712891, requirements: 'ESTA required under Visa Waiver Program for stays up to 90 days.', cost: '~ $30 (ESTA)', simplicity: 'Easy (ESTA)', warning: 'Exercise normal safety precautions', level: 1, distance: 11540 },
            { name: 'Uruguay', airport: 'MVD', lat: -32.522779, lng: -55.765835, requirements: 'Visa-free for business visits up to 90 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 13200 },
            { name: 'Uzbekistan', airport: 'TAS', lat: 41.377491, lng: 64.585262, requirements: 'Visa-free for business visits up to 30 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 11000 },
            { name: 'Vanuatu', airport: 'VLI', lat: -15.376706, lng: 166.959158, requirements: 'Visa-free for business visits up to 30 days.', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 2000 },
            { name: 'Vatican City', airport: 'None', lat: 41.902916, lng: 12.453389, requirements: 'Entry via Italy (Schengen Area rules apply).', cost: 'Free', simplicity: 'Easy', warning: 'Exercise normal safety precautions', level: 1, distance: 16330 },
            { name: 'Venezuela', airport: 'CCS', lat: 6.42375, lng: -66.58973, requirements: 'Visa required in advance. Complex process.', cost: '~ $90', simplicity: 'Hard', warning: 'Do not travel', level: 4, distance: 15900 },
            { name: 'Vietnam', airport: 'SGN', lat: 14.058324, lng: 108.277199, requirements: 'e-Visa required for business purposes, valid for 90 days.', cost: '~ $40', simplicity: 'Medium', warning: 'Exercise normal safety precautions', level: 1, distance: 6840 },
            { name: 'Yemen', airport: 'SAH', lat: 15.552727, lng: 48.516388, requirements: 'Visa required in advance. Very difficult to obtain.', cost: 'Variable', simplicity: 'Very Hard', warning: 'Do not travel', level: 4, distance: 13500 },
            { name: 'Zambia', airport: 'LUN', lat: -13.133897, lng: 27.849332, requirements: 'e-Visa available for business travel.', cost: '~ $75', simplicity: 'Medium', warning: 'Exercise a high degree of caution', level: 2, distance: 12400 },
            { name: 'Zimbabwe', airport: 'HRE', lat: -19.015438, lng: 29.154857, requirements: 'e-Visa or visa on arrival available.', cost: '~ $70', simplicity: 'Easy', warning: 'Exercise a high degree of caution', level: 2, distance: 11900 }
        ];

        const embassyData = [
            { country: 'Afghanistan', city: 'Canberra', type: 'Embassy', address: '4 Beale Crescent, Deakin ACT 2600', website: 'http://www.canberra.mfa.af' },
            { country: 'Argentina', city: 'Canberra', type: 'Embassy', address: 'Suite 2, Level 2, 15 National Circuit, Barton ACT 2600', website: 'https://caust.cancilleria.gob.ar/en' },
            { country: 'Argentina', city: 'Sydney', type: 'Consulate-General', address: 'Suite 202, Level 2, 309 Kent Street, Sydney NSW 2000', website: 'https://csidn.cancilleria.gob.ar/en' },
            { country: 'Austria', city: 'Canberra', type: 'Embassy', address: '12 Talbot Street, Forrest ACT 2603', website: 'https://www.bmeia.gv.at/en/austrian-embassy-canberra/' },
            { country: 'Bangladesh', city: 'Canberra', type: 'High Commission', address: '57 Culgoa Circuit, O\'Malley ACT 2606', website: 'https://www.bhcanberra.com' },
            { country: 'Brazil', city: 'Canberra', type: 'Embassy', address: '19 Forster Crescent, Yarralumla ACT 2600', website: 'http://camberra.itamaraty.gov.br/en-us/' },
            { country: 'Brazil', city: 'Sydney', type: 'Consulate-General', address: 'Level 6, 45 Clarence Street, Sydney NSW 2000', website: 'http://sydney.itamaraty.gov.br/en-us/' },
            { country: 'Canada', city: 'Canberra', type: 'High Commission', address: 'Commonwealth Avenue, Yarralumla ACT 2600', website: 'https://www.international.gc.ca/country-pays/australia-australie/' },
            { country: 'Canada', city: 'Sydney', type: 'Consulate-General', address: 'Level 5, 111 Harrington Street, Sydney NSW 2000', website: 'https://www.international.gc.ca/country-pays/australia-australie/' },
            { country: 'Chile', city: 'Canberra', type: 'Embassy', address: '10 Culgoa Circuit, O\'Malley ACT 2606', website: 'https://chile.gob.cl/australia/en/' },
            { country: 'Chile', city: 'Melbourne', type: 'Consulate-General', address: 'Level 13, 390 St Kilda Road, Melbourne VIC 3004', website: 'https://www.consulado.gob.cl/servicios/tramites-para-extranjeros' },
            { country: 'China', city: 'Canberra', type: 'Embassy', address: '15 Coronation Drive, Yarralumla ACT 2600', website: 'http://au.china-embassy.gov.cn/eng/' },
            { country: 'China', city: 'Sydney', type: 'Consulate-General', address: '39 Dunblane Street, Camperdown NSW 2050', website: 'http://sydney.china-consulate.gov.cn/eng/' },
            { country: 'China', city: 'Melbourne', type: 'Consulate-General', address: '75-77 Irving Road, Toorak VIC 3142', website: 'http://melbourne.china-consulate.gov.cn/eng/' },
            { country: 'China', city: 'Brisbane', type: 'Consulate-General', address: 'Level 9, 79 Adelaide Street, Brisbane QLD 4000', website: 'http://brisbane.china-consulate.gov.cn/eng/' },
            { country: 'China', city: 'Perth', type: 'Consulate-General', address: '45 Brown Street, East Perth WA 6004', website: 'http://perth.china-consulate.gov.cn/eng/' },
            { country: 'China', city: 'Adelaide', type: 'Consulate-General', address: '110 Crittenden Road, Findon SA 5023', website: 'http://adelaide.china-consulate.gov.cn/eng/' },
            { country: 'Egypt', city: 'Canberra', type: 'Embassy', address: '1 Darwin Avenue, Yarralumla ACT 2600', website: 'https://mfa.gov.eg/english/embassies/egyptian_embassy_canberra' },
            { country: 'Fiji', city: 'Canberra', type: 'High Commission', address: '19 Beale Crescent, Deakin ACT 2600', website: 'https://www.fiji.org.au/' },
            { country: 'France', city: 'Canberra', type: 'Embassy', address: '6 Perth Avenue, Yarralumla ACT 2600', website: 'https://au.ambafrance.org/' },
            { country: 'Germany', city: 'Canberra', type: 'Embassy', address: '119 Empire Circuit, Yarralumla ACT 2600', website: 'https://australien.diplo.de/' },
            { country: 'Germany', city: 'Sydney', type: 'Consulate-General', address: 'Level 17, 100 William Street, Woolloomooloo NSW 2011', website: 'https://australien.diplo.de/au-en/service/sydney-consulate' },
            { country: 'India', city: 'Canberra', type: 'High Commission', address: '3-5 Moonah Place, Yarralumla ACT 2600', website: 'https://www.hcicanberra.gov.in/' },
            { country: 'India', city: 'Sydney', type: 'Consulate-General', address: 'Level 1, 265 Castlereagh Street, Sydney NSW 2000', website: 'https://www.cgisydney.gov.in/' },
            { country: 'India', city: 'Melbourne', type: 'Consulate-General', address: '344 St Kilda Road, Melbourne VIC 3004', website: 'https://www.cgimelbourne.gov.in/' },
            { country: 'India', city: 'Perth', type: 'Consulate-General', address: 'Level 7, 12 St Georges Terrace, Perth WA 6000', website: 'https://www.cgiperth.gov.in/' },
            { country: 'Indonesia', city: 'Canberra', type: 'Embassy', address: '8 Darwin Avenue, Yarralumla ACT 2600', website: 'https://kemlu.go.id/canberra/en' },
            { country: 'Ireland', city: 'Canberra', type: 'Embassy', address: '20 Arkana Street, Yarralumla ACT 2600', website: 'https://www.dfa.ie/australia/' },
            { country: 'Italy', city: 'Canberra', type: 'Embassy', address: '12 Grey Street, Deakin ACT 2600', website: 'https://ambcanberra.esteri.it/en/' },
            { country: 'Japan', city: 'Canberra', type: 'Embassy', address: '112 Empire Circuit, Yarralumla ACT 2600', website: 'https://www.au.emb-japan.go.jp/' },
            { country: 'Malaysia', city: 'Canberra', type: 'High Commission', address: '7 Perth Avenue, Yarralumla ACT 2600', website: 'https://www.kln.gov.my/web/aus_canberra/' },
            { country: 'Netherlands', city: 'Canberra', type: 'Embassy', address: '120 Empire Circuit, Yarralumla ACT 2600', website: 'https://www.netherlandsworldwide.nl/countries/australia' },
            { country: 'New Zealand', city: 'Canberra', type: 'High Commission', address: '140 Commonwealth Avenue, Yarralumla ACT 2600', website: 'https://www.mfat.govt.nz/en/countries-and-regions/australia-and-pacific/australia/' },
            { country: 'Pakistan', city: 'Canberra', type: 'High Commission', address: '4 Timbarra Crescent, O\'Malley ACT 2606', website: 'https://www.pakistan.org.au/' },
            { country: 'Papua New Guinea', city: 'Canberra', type: 'High Commission', address: '39-41 Forster Crescent, Yarralumla ACT 2600', website: 'https://www.pngcanberra.org/' },
            { country: 'Philippines', city: 'Canberra', type: 'Embassy', address: '1 Moonah Place, Yarralumla ACT 2600', website: 'https://www.philembassy.org.au/' },
            { country: 'Russia', city: 'Canberra', type: 'Embassy', address: '78 Canberra Avenue, Griffith ACT 2603', website: 'https://australia.mid.ru/en/' },
            { country: 'Singapore', city: 'Canberra', type: 'High Commission', address: '17 Forster Crescent, Yarralumla ACT 2600', website: 'https://www.mfa.gov.sg/canberra' },
            { country: 'South Africa', city: 'Canberra', type: 'High Commission', address: 'Cnr State Circle & Rhodes Place, Yarralumla ACT 2600', website: 'https://dirco1.azurewebsites.net/canberra/' },
            { country: 'Spain', city: 'Canberra', type: 'Embassy', address: '15 Arkana Street, Yarralumla ACT 2600', website: 'https://www.exteriores.gob.es/Embajadas/canberra/en/Paginas/index.aspx' },
            { country: 'Sri Lanka', city: 'Canberra', type: 'High Commission', address: '61 Hampton Circuit, Yarralumla ACT 2600', website: 'https://www.slhcaustralia.org/' },
            { country: 'Switzerland', city: 'Canberra', type: 'Embassy', address: '7 Melbourne Avenue, Forrest ACT 2603', website: 'https://www.eda.admin.ch/canberra' },
            { country: 'Thailand', city: 'Canberra', type: 'Embassy', address: '111 Empire Circuit, Yarralumla ACT 2600', website: 'https://canberra.thaiembassy.org/' },
            { country: 'Turkey', city: 'Canberra', type: 'Embassy', address: '60 Mugga Way, Red Hill ACT 2603', website: 'http://canberra.emb.mfa.gov.tr' },
            { country: 'United Arab Emirates', city: 'Canberra', type: 'Embassy', address: '12 Bulwarra Close, O\'Malley ACT 2606', website: 'https://www.mofa.gov.ae/en/missions/canberra' },
            { country: 'United Kingdom', city: 'Canberra', type: 'High Commission', address: 'Commonwealth Avenue, Yarralumla ACT 2600', website: 'https://www.gov.uk/world/australia' },
            { country: 'United States', city: 'Canberra', type: 'Embassy', address: 'Moonah Place, Yarralumla ACT 2600', website: 'https://au.usembassy.gov/' },
            { country: 'United States', city: 'Sydney', type: 'Consulate-General', address: 'Level 10, 48 Miller Street, North Sydney NSW 2060', website: 'https://au.usembassy.gov/embassy-consulates/sydney/' },
            { country: 'United States', city: 'Melbourne', type: 'Consulate-General', address: '553 St Kilda Road, Melbourne VIC 3004', website: 'https://au.usembassy.gov/embassy-consulates/melbourne/' },
            { country: 'United States', city: 'Perth', type: 'Consulate-General', address: 'Ground Floor, 16 St Georges Terrace, Perth WA 6000', website: 'https://au.usembassy.gov/embassy-consulates/perth/' },
            { country: 'Vietnam', city: 'Canberra', type: 'Embassy', address: '6 Timbarra Crescent, O\'Malley ACT 2606', website: 'https://vietnamembassy.org.au/' },
        ];

        let map;
        let markers = [];

        function getWarningClass(level) {
            return `level-${level}`;
        }
        
        function populateTable() {
            const tableBody = document.querySelector('#countryTable tbody');
            tableBody.innerHTML = ''; // Clear existing rows
            countryData.forEach(country => {
                const row = `
                    <tr class="border-b border-gray-200 hover:bg-gray-50">
                        <td class="p-4"><input type="checkbox" class="country-checkbox" data-country-name="${country.name}" onchange="updateTripPlanner()"></td>
                        <td class="p-4 font-medium">${country.name}</td>
                        <td class="p-4 font-semibold text-gray-500">${country.airport}</td>
                        <td class="p-4">${country.requirements}</td>
                        <td class="p-4">${country.cost}</td>
                        <td class="p-4">${country.simplicity}</td>
                        <td class="p-4"><span class="px-2 py-1 rounded-full text-sm font-medium ${getWarningClass(country.level)}">${country.warning}</span></td>
                        <td class="p-4">${country.distance.toLocaleString()}</td>
                    </tr>
                `;
                tableBody.innerHTML += row;
            });
        }

        function populateEmbassyTable() {
            const tableBody = document.querySelector('#embassyTable tbody');
            tableBody.innerHTML = '';
            embassyData.forEach(mission => {
                const row = `
                    <tr class="border-b border-gray-200 hover:bg-gray-50">
                        <td class="p-4 font-medium">${mission.country}</td>
                        <td class="p-4">${mission.city}</td>
                        <td class="p-4">${mission.type}</td>
                        <td class="p-4">${mission.address}</td>
                        <td class="p-4"><a href="${mission.website}" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">Official Site</a></td>
                    </tr>
                `;
                tableBody.innerHTML += row;
            });
        }

        function filterTable() {
            const input = document.getElementById('searchInput');
            const filter = input.value.toUpperCase();
            const table = document.getElementById('countryTable');
            const tr = table.getElementsByTagName('tr');

            for (let i = 1; i < tr.length; i++) { // Start from 1 to skip header row
                const countryTd = tr[i].getElementsByTagName('td')[1];
                const airportTd = tr[i].getElementsByTagName('td')[2];
                if (countryTd || airportTd) {
                    const countryTxt = countryTd.textContent || countryTd.innerText;
                    const airportTxt = airportTd.textContent || airportTd.innerText;
                    if (countryTxt.toUpperCase().indexOf(filter) > -1 || airportTxt.toUpperCase().indexOf(filter) > -1) {
                        tr[i].style.display = '';
                    } else {
                        tr[i].style.display = 'none';
                    }
                }
            }
        }

        let sortDirections = {};
        function sortTable(columnIndex) {
            const table = document.getElementById('countryTable');
            const tbody = table.tBodies[0];
            const rows = Array.from(tbody.rows);
            const headers = table.tHead.rows[0].cells;
            
            const direction = sortDirections[columnIndex] === 'asc' ? 'desc' : 'asc';
            Object.keys(sortDirections).forEach(key => delete sortDirections[key]);
            sortDirections[columnIndex] = direction;

            rows.sort((a, b) => {
                let valA = a.cells[columnIndex].innerText.trim();
                let valB = b.cells[columnIndex].innerText.trim();

                if (columnIndex === 7) { // Distance column
                    valA = parseInt(valA.replace(/,/g, ''), 10);
                    valB = parseInt(valB.replace(/,/g, ''), 10);
                } else if (columnIndex === 6) { // Smartraveller Level column
                    const countryA = countryData.find(c => c.name === a.cells[1].innerText.trim());
                    const countryB = countryData.find(c => c.name === b.cells[1].innerText.trim());
                    valA = countryA ? countryA.level : 0;
                    valB = countryB ? countryB.level : 0;
                }

                if (valA < valB) {
                    return direction === 'asc' ? -1 : 1;
                }
                if (valA > valB) {
                    return direction === 'asc' ? 1 : -1;
                }
                return 0;
            });

            rows.forEach(row => tbody.appendChild(row));
            
            for(let i = 0; i < headers.length; i++) {
                let arrow = headers[i].querySelector('.sort-arrow');
                if (arrow) {
                    arrow.classList.remove('active');
                    arrow.innerHTML = '';
                    if(i === columnIndex) {
                        arrow.innerHTML = direction === 'asc' ? ' ▲' : ' ▼';
                        arrow.classList.add('active');
                    }
                }
            }
        }

        let embassySortDirections = {};
        function sortEmbassyTable(columnIndex) {
            const table = document.getElementById('embassyTable');
            const tbody = table.tBodies[0];
            const rows = Array.from(tbody.rows);
            const headers = table.tHead.rows[0].cells;

            const direction = embassySortDirections[columnIndex] === 'asc' ? 'desc' : 'asc';
            Object.keys(embassySortDirections).forEach(key => delete embassySortDirections[key]);
            embassySortDirections[columnIndex] = direction;

            rows.sort((a, b) => {
                let valA = a.cells[columnIndex].innerText.trim();
                let valB = b.cells[columnIndex].innerText.trim();
                
                if (valA < valB) return direction === 'asc' ? -1 : 1;
                if (valA > valB) return direction === 'asc' ? 1 : -1;
                return 0;
            });

            rows.forEach(row => tbody.appendChild(row));

            for(let i = 0; i < headers.length; i++) {
                let arrow = headers[i].querySelector('.sort-arrow');
                if (arrow) {
                    arrow.classList.remove('active');
                    arrow.innerHTML = '';
                    if(i === columnIndex) {
                        arrow.innerHTML = direction === 'asc' ? ' ▲' : ' ▼';
                        arrow.classList.add('active');
                    }
                }
            }
        }
        
        function updateTripPlanner() {
            const checkboxes = document.querySelectorAll('.country-checkbox:checked');
            const tripPlannerDiv = document.getElementById('tripPlanner');
            const embassySection = document.getElementById('embassySection');
            const goToPlannerBtn = document.getElementById('goToPlanner');
            const selectedList = document.querySelector('#selectedCountriesList ul');
            const totalCostEl = document.getElementById('totalCost');
            
            let totalCost = 0;
            let selectedCountries = [];
            
            markers.forEach(marker => map.removeLayer(marker));
            markers = [];

            selectedList.innerHTML = '';

            checkboxes.forEach(cb => {
                const countryName = cb.dataset.countryName;
                selectedCountries.push(countryName);
                const country = countryData.find(c => c.name === countryName);
                
                if (country) {
                    const listItem = document.createElement('li');
                    listItem.textContent = `${country.name} (${country.airport})`;
                    selectedList.appendChild(listItem);

                    let costString = country.cost.replace(/[^0-9.]/g, '');
                    if (costString) {
                        totalCost += parseFloat(costString);
                    }
                    
                    if (country.lat && country.lng) {
                        const marker = L.marker([country.lat, country.lng]).addTo(map)
                            .bindPopup(`${country.name} (${country.airport})`);
                        markers.push(marker);
                    }
                }
            });

            if (selectedCountries.length > 0) {
                tripPlannerDiv.style.display = 'block';
                embassySection.style.display = 'block';
                goToPlannerBtn.style.display = 'block';
                if (markers.length === 1) {
                    map.setView(markers[0].getLatLng(), 4);
                } else if (markers.length > 1) {
                    const group = new L.featureGroup(markers);
                    map.fitBounds(group.getBounds().pad(0.5));
                }
            } else {
                tripPlannerDiv.style.display = 'none';
                embassySection.style.display = 'none';
                goToPlannerBtn.style.display = 'none';
                map.setView([20, 0], 2);
            }

            totalCostEl.textContent = `$${totalCost.toFixed(0)}`;
        }

        function exportList() {
            const checkboxes = document.querySelectorAll('.country-checkbox:checked');
            let exportItems = [];
            checkboxes.forEach(cb => {
                const country = countryData.find(c => c.name === cb.dataset.countryName);
                if (country) {
                    exportItems.push(`${country.name} (${country.airport})`);
                }
            });
            
            const listString = exportItems.join(', ');
            
            const textarea = document.createElement('textarea');
            textarea.value = listString;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);

            const msg = document.getElementById('copyMessage');
            msg.style.display = 'inline';
            setTimeout(() => {
                msg.style.display = 'none';
            }, 2000);
        }

        function selectAll() {
            const checkboxes = document.querySelectorAll('#countryTable tbody tr:not([style*="display: none"]) .country-checkbox');
            checkboxes.forEach(cb => cb.checked = true);
            updateTripPlanner();
        }

        function clearSelection() {
            const checkboxes = document.querySelectorAll('.country-checkbox');
            checkboxes.forEach(cb => cb.checked = false);
            updateTripPlanner();
        }

        const topButton = document.getElementById('returnToTop');
        window.onscroll = function() {
            if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                topButton.style.display = "block";
            } else {
                topButton.style.display = "none";
            }
        };
        function scrollToTop() {
            window.scrollTo({top: 0});
        }
        function scrollToPlanner() {
            document.getElementById('tripPlanner').scrollIntoView();
        }

        window.onload = () => {
            populateTable();
            populateEmbassyTable();
            sortTable(1);
            sortEmbassyTable(0);
            
            map = L.map('map').setView([20, 0], 2);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 18,
                attribution: '© OpenStreetMap contributors'
            }).addTo(map);
        };
    </script>
</body>
</html>
